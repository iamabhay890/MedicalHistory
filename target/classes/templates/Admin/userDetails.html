<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
    <title>Medical History</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.2/css/all.css"/>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://www.markuptag.com/bootstrap/5/css/bootstrap.min.css"/>
    <link rel="stylesheet"  th:href="@{/css/style.css}">
    <style>
        .img-fluid{
        height:40px;
        }

     .btnl a{
    color : White;
    font-weight: bold;
    text-decoration: none;
     }
        .my_profile_picture{
	width: 35px;
	height: 35px;
	object-fit:cover;
	border-radius:50%;
}
    </style>
    <style>
.containers {
  border: 2px solid #ccc;
  background-color: #eee;
  border-radius: 5px;
  padding: 16px;
  margin: 16px 0
}

.containers::after {
  content: "";
  clear: both;
  display: table;
}




@media (max-width: 500px) {
  .container {
      text-align: center;
  }


</style>
</head>
<body>
<header th:replace="Admin/adminBlock::adminHeader"></header>
<section>
    <div class="containers my-2">
        <h3 class="text-primary" align="Center">User Details</h3>
        <table class="table">
                <tr class="bg-primary" style="color:white">
                    <th>Name</th>
                    <th>Gender</th>
                    <th>Age</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Aadhaar number</th>
                    <th>Address</th>

                </tr>
            <tbody>
            <tr>
                <td th:text="${userDto.name}"></td>
                <td th:text="${userDto.gender}"></td>
                <td th:text="${userDto.age}"></td>
                <td th:text="${userDto.email}"></td>
                <td th:text="${userDto.phone}"></td>
                <td th:text="${userDto.adharNo}"></td>
                <td th:text="${userDto.address}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="containers my-2">
        <h3  class="text-primary" align="Center">Medical History</h3>

        <table class="table table-striped table-bordered">
            <thread>
                <tr class="bg-primary" style="color:white">
                   <!-- <th>Slip Id</th>-->
                    <th>Treatment Date</th>
                    <th>Appointment Date</th>
                    <th>Disease Name</th>
                    <th>Type Of Disease</th>
                    <th>Doctor Name</th>
                    <th>Medicine Name</th>
                    <th>Hospital Name</th>
                    <th>Report</th>
                </tr>
            </thread>
            <tbody>
            <tr th:each="patients:${listPatients}">
                <div>
                   <!-- <td th:text="${patients.pId}"></td>-->
                    <td th:text="${patients.treatmentDate}"></td>
                    <td th:text="${patients.nexAppt}"></td>
                    <td th:text="${patients.diseaseName}"></td>
                    <td th:text="${patients.typeOfDisease}"></td>
                    <td th:text="${patients.doctorName}"></td>
                    <td th:text="${patients.medicineName}"></td>
                    <td th:text="${patients.hospitalName}"></td>
                    <td><a th:href="@{'/mh/admin/inLargeFile/'+${patients.pId}}">
                        <img class="reportFile" id="fileId" th:src="*{'data:image/jpeg;base64,'+{patients.report}}" onclick="showImage()"/></a>
                    </td>
                </div>
            </tr>
            </tbody>
        </table>
    </div>
</section>
<!-- Bootstrap JS -->
<script src="https://www.markuptag.com/bootstrap/5/js/bootstrap.bundle.min.js"></script>

<script>
    function showImage() {
            console.log("Calling showImage Function")
            document.getElementById('fileId')
                    .style.display = "block";
}}
</script>
</body>

</html>